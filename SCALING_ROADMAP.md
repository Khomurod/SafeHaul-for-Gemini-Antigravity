# SafeHaul Scaling Roadmap: Enterprise Compliance & Automation

This roadmap outlines the strategic path to scaling SafeHaul from an Applicant Tracking System (ATS) to a full-scale Compliance & Automation Platform competitive with DriverReach and Tenstreet.

**Developer Instructions:** Mark tasks as completed by changing `[ ]` to `[x]`.

---

## ðŸš¨ Phase 1: The "Compliance Engine" (Critical)
*Goal: Automate DOT audit readiness and document verification to increase product value for Paid plans.*

### 1. Automated Verification of Employment (VOE)
- [ ] **Create `sendVOERequest` Cloud Function**
    - Generate a PDF form using `pdfGenerator.js` pre-filled with driver history.
    - Attach the driver's digital signature (captured in `Step9_Consent`).
    - Auto-email the "Request for Information" to the previous employers listed in `Step6_Employment`.
- [ ] **Build "External Verification Portal"**
    - Create a secure, public-facing page where past employers can click "Verify Dates" and sign digitally without needing a login.

### 2. Smart DQ File Management (Driver Qualification)
- [ ] **Schema Standardization**
    - Update `Step3_License.jsx` to ensure `expirationDate` is saved as a Firestore Timestamp (not just a string).
    - Add `medCardExpirationDate` field to the driver profile.
- [ ] **Expiry Monitor (Scheduled Job)**
    - Create a daily Cloud Function (similar to `runLeadDistribution`) that scans all active drivers.
    - Identify CDLs and Medical Cards expiring within 30, 60, and 90 days.
- [ ] **Automated Expiry Alerts**
    - **Driver:** Auto-email: *"Your CDL expires in 30 days. Click here to upload your new one."*
    - **Recruiter:** Add a "Compliance Alert" notification in the dashboard.
- [ ] **Dashboard UI Update**
    - In `UnifiedDriverList` and `DriverProfile`, conditionally render rows in **Red** (Expired) or **Yellow** (Expiring Soon).

---

## ðŸ¤– Phase 2: Marketing Automation (The "Ghost" Killer)
*Goal: Increase lead conversion rates by 300% via instant, automated first-touch.*

### 3. "Speed to Lead" Auto-SMS
- [ ] **Twilio Integration**
    - Set up Twilio API keys in Firebase Functions config.
- [ ] **Triggered SMS Logic**
    - Hook into the `assignLeadTransaction` function (in `leadLogic.js`).
    - **Action:** Immediately send SMS to driver: *"Hey [FirstName], thanks for applying to [CompanyName]! When is a good time to chat?"*
- [ ] **2-Way Chat Interface**
    - Build a "Messages" tab in the Recruiter Workspace to view and reply to SMS responses directly.

### 4. Drip Campaigns (Nurture)
- [ ] **Automated Nurture Workflow**
    - If a recruiter marks a lead as "No Answer" or "Not Interested", automatically move the lead to a `nurture_pool`.
    - Trigger a 4-week email sequence (1 educational email/week).
- [ ] **Re-Engagement Trigger**
    - If a driver clicks a link in a nurture email, automatically restore them to "New Lead" status and notify the recruiter.

---

## ðŸ”— Phase 3: Integrations (The "Ecosystem")
*Goal: Connect with industry-standard external systems for background checks.*

### 5. Background Checks (MVR & PSP)
- [ ] **Provider Integration (e.g., SambaSafety or Asurint)**
    - Create a backend service to proxy requests to the background check API.
- [ ] **"Order MVR" Feature**
    - Add an "Order Report" button to `DriverProfile`.
    - On completion, automatically fetch the PDF report and save it to the `DocumentsManager` tab.

### 6. FMCSA Clearinghouse
- [ ] **Consent Form Update**
    - Add a specific "Clearinghouse Limited Query Consent" step to the application wizard.
- [ ] **Query Automation**
    - (MVP) Generate the formatted text string required for the FMCSA portal.
    - (Scale) Implement direct API integration to run queries automatically upon hiring.

---
*Roadmap generated by Gemini for SafeHaul Architecture.*